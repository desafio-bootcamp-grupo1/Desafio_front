# üöõ OnTrack - Sistema de Gesti√≥n de Flotas

<div align="center">

![OnTrack](https://img.shields.io/badge/OnTrack-Sistema%20de%20Flotas-blue?style=for-the-badge)
![React](https://img.shields.io/badge/React-19.1.1-61DAFB?style=for-the-badge&logo=react)
![Vite](https://img.shields.io/badge/Vite-7.1.7-646CFF?style=for-the-badge&logo=vite)
![Redux](https://img.shields.io/badge/Redux%20Toolkit-2.9.0-764ABC?style=for-the-badge&logo=redux)
![The Bridge](https://img.shields.io/badge/The%20Bridge-Desaf%C3%ADo%20Final-orange?style=for-the-badge)

**Organiza, Simplifica, Ahorra.**

*La plataforma inteligente para el seguimiento y optimizaci√≥n de gastos de combustible en flotas corporativas*

### üéì Proyecto Final - The Bridge | Desaf√≠o Final
**Frontend del proyecto colaborativo entre equipos de:**

`Marketing` ‚Ä¢ `Data Science` ‚Ä¢ `Ciberseguridad` ‚Ä¢ `Full-Stack`

</div>

---

## üìã Tabla de Contenidos

- [üéØ Descripci√≥n del Proyecto](#-descripci√≥n-del-proyecto)
- [‚ú® Caracter√≠sticas Principales](#-caracter√≠sticas-principales)
- [üèóÔ∏è Arquitectura del Sistema](#Ô∏è-arquitectura-del-sistema)
- [üõ†Ô∏è Stack Tecnol√≥gico](#Ô∏è-stack-tecnol√≥gico)
- [üöÄ Instalaci√≥n y Configuraci√≥n](#-instalaci√≥n-y-configuraci√≥n)
- [üì± Funcionalidades](#-funcionalidades)
- [üé® Estructura del Proyecto](#-estructura-del-proyecto)
- [üìä Dashboard del Manager](#-dashboard-del-manager)
- [üîê Sistema de Autenticaci√≥n](#-sistema-de-autenticaci√≥n)
- [ü§ù Colaboraci√≥n Multidisciplinar](#-colaboraci√≥n-multidisciplinar)
- [üéØ Scripts Disponibles](#-scripts-disponibles)
- [üåê Variables de Entorno](#-variables-de-entorno)
- [üìù Licencia](#-licencia)

---

## üéØ Descripci√≥n del Proyecto

**OnTrack** es una aplicaci√≥n web moderna y completa dise√±ada para revolucionar la gesti√≥n de flotas corporativas. Desarrollada como proyecto final del **Desaf√≠o de The Bridge**, esta plataforma representa la culminaci√≥n del trabajo colaborativo entre equipos especializados en Marketing, Data Science, Ciberseguridad y Full-Stack Development.

### üåâ Contexto Acad√©mico - The Bridge
Este repositorio contiene la **parte frontend** del proyecto final, donde se integran:
- **üé® Marketing**: Buyer persona, Customer journey y campa√±as online
- **üìä Data Science**: An√°lisis de datos y algoritmos de optimizaci√≥n  
- **üîí Ciberseguridad**: Implementaci√≥n de medidas de seguridad robustas
- **üíª Full-Stack**: Desarrollo completo de la aplicaci√≥n web y dise√±o de UI

La plataforma permite a las empresas optimizar sus gastos de combustible, monitorear el rendimiento de conductores y obtener insights valiosos sobre el uso de su flota vehicular.

### üé™ Demo en Vivo
El proyecto incluye una landing page completamente funcional con:
- **P√°gina de inicio** con secciones hero, caracter√≠sticas, estad√≠sticas y llamada a la acci√≥n
- **Sistema de autenticaci√≥n** completo (login/registro)
- **Dashboard de gesti√≥n** con m√©tricas en tiempo real

---

## ‚ú® Caracter√≠sticas Principales

### üîç **Escaneo OCR Inteligente**
- Digitalizaci√≥n autom√°tica de tickets de combustible
- Registro preciso de gastos usando tecnolog√≠a OCR avanzada
- Reducci√≥n de errores manuales y tiempo de procesamiento

### üìä **An√°lisis Inteligente**
- Insights detallados sobre patrones de consumo
- Identificaci√≥n de rutas ineficientes
- Oportunidades de ahorro automatizadas
- Reportes personalizables

### üë• **Gesti√≥n Completa de Flota**
- Dashboard administrativo en tiempo real
- Seguimiento de veh√≠culos activos
- Monitoreo de conductores
- Gesti√≥n de alertas y mantenimiento

### üìà **M√©tricas y KPIs**
- Control de gastos mensual
- Eficiencia de combustible
- Rendimiento por conductor
- Reducci√≥n de emisiones CO‚ÇÇ

---

## üèóÔ∏è Arquitectura del Sistema

```mermaid
flowchart TB
  A[Landing Page\n‚Ä¢ Hero\n‚Ä¢ Features\n‚Ä¢ Statistics\n‚Ä¢ CTA] --> B[Authentication\n‚Ä¢ Login Form\n‚Ä¢ Register Form\n‚Ä¢ Token Management\n‚Ä¢ Session Control]
  B --> C[OCR Scanner\n‚Ä¢ Camera / Upload\n‚Ä¢ Tesseract.js OCR\n‚Ä¢ Ticket Validation\n‚Ä¢ Local Storage]
  C --> D[Dashboards (Driver & Manager)\n‚Ä¢ KPIs, Charts, Tables\n‚Ä¢ Fleet & Driver Views\n‚Ä¢ Alerts]
```

Si tu visor no soporta Mermaid, esquema compacto sin scroll:

```text
Landing Page ‚Üí Authentication ‚Üí OCR Scanner ‚Üí Dashboards (Driver & Manager)
- Landing: Hero, Features, Statistics, CTA
- Auth: Login, Register, Token Management, Session Control
- OCR: Camera/Upload, Tesseract.js, Ticket Validation, Local Storage
- Dashboards: KPIs, Charts, Tables, Alerts
```

---

## üõ†Ô∏è Stack Tecnol√≥gico

### Frontend
- **React 19.1.1** - Biblioteca principal para UI
- **Vite 7.1.7** - Build tool ultrarr√°pido
- **React Router DOM 7.9.2** - Enrutamiento SPA
- **Redux Toolkit 2.9.0** - Gesti√≥n de estado global

### UI y Dise√±o
- **SCSS/Sass 1.93.2** - Preprocesador CSS
- **Lucide React 0.544.0** - Biblioteca de iconos moderna
- **Recharts 3.2.1** - Gr√°ficos y visualizaci√≥n de datos
- **react-hot-toast 2.6.0** - Notificaciones

### Multimedia y OCR
- **react-webcam 7.2.0** - Captura de c√°mara desde el navegador
- **tesseract.js 6.0.1** - OCR en cliente (spa+eng)

### Desarrollo
- **ESLint 9.35.0** - Linter para calidad de c√≥digo
- **Vite Plugin React 5.0.3** - Integraci√≥n React + Vite

### HTTP y API
- **Axios 1.12.2** - Cliente HTTP con interceptores autom√°ticos
- **Token Refresh autom√°tico** - Gesti√≥n transparente de sesiones
- **Alias de imports `@`** configurado en `vite.config.js`

---

## üöÄ Instalaci√≥n y Configuraci√≥n

### Prerrequisitos
```bash
node >= 18.0.0
npm >= 9.0.0
```

### 1Ô∏è‚É£ Clonar el Repositorio
```bash
git clone <repository-url>
cd Desafio_front
```

### 2Ô∏è‚É£ Instalar Dependencias
```bash
npm install
```

### 3Ô∏è‚É£ Configurar Variables de Entorno
```bash
# Crear archivo .env en la ra√≠z del proyecto
cat > .env << 'EOF'
VITE_API_URL=http://localhost:5000
EOF
```

### 4Ô∏è‚É£ Iniciar Servidor de Desarrollo
```bash
npm run dev
```

La aplicaci√≥n estar√° disponible en `http://localhost:5173` (puerto fijado en `vite.config.js`).

---

## üì± Funcionalidades

### üè† **Landing Page**
- **Hero Section**: Presentaci√≥n impactante con llamadas a la acci√≥n
- **Features Section**: Descripci√≥n de funcionalidades principales
- **Stats Section**: Estad√≠sticas e impacto de la plataforma
- **CTA Section**: Invitaci√≥n final a registrarse
- **Footer**: Informaci√≥n de contacto y enlaces

### üîê **Autenticaci√≥n**
- **Registro de usuarios** con validaci√≥n en tiempo real
- **Login seguro** con gesti√≥n de tokens JWT
- **Refresh token autom√°tico** para sesiones persistentes
- **Logout seguro** con limpieza de sesi√≥n

### üìä **Dashboard de Manager**
#### KPIs Principales
- üöõ **Veh√≠culos Activos**: 47 veh√≠culos monitoreados
- üë• **Conductores**: 42 conductores activos (89%)
- üí∞ **Gasto Mensual**: ‚Ç¨14,847 (-8% vs mes anterior)
- üß≠ **Viajes Activos**: 12 viajes en tiempo real

#### Tablas y Listas
- **Estado de Flota**: Ubicaci√≥n, combustible, velocidad en tiempo real
- **Top Conductores**: Ranking por eficiencia y ahorros
- **Alertas Recientes**: Sistema de notificaciones prioritarias

#### Gr√°ficos Anal√≠ticos
- **Gastos Mensuales**: Tendencias de combustible y mantenimiento
- **Eficiencia Semanal**: Patrones de rendimiento por d√≠a
- **KPIs de Resumen**: M√©tricas consolidadas del per√≠odo

---

## üé® Estructura del Proyecto

```
src/
‚îú‚îÄ‚îÄ app/                    # Configuraci√≥n Redux
‚îÇ   ‚îî‚îÄ‚îÄ store.js
‚îú‚îÄ‚îÄ assets/                 # Recursos est√°ticos
‚îÇ   ‚îî‚îÄ‚îÄ img/               # Im√°genes y SVGs
‚îú‚îÄ‚îÄ components/            # Componentes reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ common/           # Componentes comunes
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/        # Componentes del dashboard
‚îÇ   ‚îú‚îÄ‚îÄ camera/           # C√°mara con OCR y validaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ login/           # Formularios de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ register/
‚îÇ   ‚îî‚îÄ‚îÄ ui/              # Componentes UI base
‚îú‚îÄ‚îÄ config/               # Configuraci√≥n
‚îú‚îÄ‚îÄ data/                # Data mock para desarrollo
‚îú‚îÄ‚îÄ features/            # Slices de Redux
‚îÇ   ‚îî‚îÄ‚îÄ auth/
‚îú‚îÄ‚îÄ lib/                 # Utilidades y configuraciones
‚îÇ   ‚îú‚îÄ‚îÄ api.js          # Cliente HTTP con interceptores y refresh
‚îÇ   ‚îî‚îÄ‚îÄ token.js        # Gesti√≥n de access token en memoria
‚îú‚îÄ‚îÄ pages/              # P√°ginas principales
‚îú‚îÄ‚îÄ sections/           # Secciones de la landing
‚îú‚îÄ‚îÄ services/           # Servicios de negocio
‚îú‚îÄ‚îÄ styles/             # Estilos SCSS
‚îÇ   ‚îú‚îÄ‚îÄ components/     # Estilos por componente
‚îÇ   ‚îî‚îÄ‚îÄ sections/       # Estilos por secci√≥n
‚îî‚îÄ‚îÄ utils/              # Utilidades generales
    ‚îî‚îÄ‚îÄ ticketValidator.js  # L√≥gica OCR (Tesseract) y heur√≠sticas
```

---

## üì∑ Esc√°ner de Tickets (OCR)

El proyecto incluye un flujo de escaneo de tickets con c√°mara o subida de imagen:

- P√°gina `EscanerPage` en `/app/` con subida de imagen y validaci√≥n autom√°tica
- Componente `Camera` en `/app/camera` con captura desde dispositivo y OCR
- OCR con `tesseract.js` (idiomas `spa+eng`), normalizaci√≥n de texto y heur√≠sticas de verificaci√≥n
- Persistencia local de tickets procesados en `localStorage`

Rutas relevantes:

```text
/                  ‚Üí Landing (Index)
/manager          ‚Üí ManagerDashboard
/driver           ‚Üí DriverDashboard
/app/             ‚Üí EscanerPage (subida de imagen)
/app/camera       ‚Üí Camera (captura en vivo)
```

Archivos clave: `src/components/camera/Camera.jsx`, `src/pages/EscanerPage.jsx`, `src/components/utils/ticketValidator.js`.

---

## üìä Dashboard del Manager

El dashboard proporciona una vista integral de la operaci√≥n de flota:

### üìà M√©tricas en Tiempo Real
```javascript
// Ejemplo de datos del dashboard
const fleetStats = {
  totalVehicles: 47,
  activeDrivers: 42,
  monthlyExpense: "‚Ç¨14,847",
  activeTrips: 12,
  efficiency: "78%",
  totalDistance: "124,450 km",
  fuelSavings: "‚Ç¨2,240",
  co2Reduction: "1,340 kg"
}
```

### üó∫Ô∏è Seguimiento de Flota
- **Ubicaci√≥n en tiempo real** de todos los veh√≠culos
- **Estado operacional** (En ruta, Parado, Mantenimiento)
- **M√©tricas de combustible** y velocidad actual
- **Alertas de seguridad** y mantenimiento

### üë®‚Äçüíº Gesti√≥n de Conductores
- **Ranking de eficiencia** por conductor
- **Ahorros generados** individualmente
- **N√∫mero de viajes** completados
- **Estado de disponibilidad**

---

## üîê Sistema de Autenticaci√≥n

### üé´ Gesti√≥n de Tokens
- **Access Token**: Se guarda en memoria (no en `localStorage`) para minimizar riesgos XSS
- **Refresh Token**: Cookie HTTP-only manejada por el backend (se env√≠a con `withCredentials`)
- **Interceptores HTTP**: Reintenta con refresh autom√°tico ante 401, con cola para solicitudes concurrentes

### üîÑ Flujo de Autenticaci√≥n
```javascript
// Ejemplo del flujo de auth
1. Login ‚Üí Recibe access token + refresh token
2. Requests autom√°ticos ‚Üí Incluyen `Authorization: Bearer <access>` y `withCredentials`
3. Token expira ‚Üí Interceptor llama a `/auth/refresh-token`, actualiza access y reintenta
4. Refresh falla ‚Üí Limpieza de access en memoria y error para forzar logout
```

### üõ°Ô∏è Seguridad
- **Access en memoria** via `src/lib/token.js`
- **Refresh en cookie HTTP-only** v√≠a backend (CORS + `withCredentials` habilitado)
- **Validaci√≥n autom√°tica** al inicio mediante `bootstrapSession`
- **Logout seguro** limpiando access en memoria

### üîß Puntos de integraci√≥n
- Rutas backend esperadas: `/auth/login`, `/auth/refresh-token`, `/users/me`
- Archivo clave: `src/lib/api.js` (interceptores y reintentos)

---

## ü§ù Colaboraci√≥n Multidisciplinar

### üèÜ The Bridge - Desaf√≠o Final
**OnTrack** es el resultado del trabajo colaborativo entre cuatro equipos especializados en el marco del Desaf√≠o Final de The Bridge. Cada equipo aport√≥ su expertise espec√≠fica para crear una soluci√≥n integral:

#### üé® **Equipo de Marketing**
- **Buyer Persona**: Definici√≥n de perfiles de cliente
- **Customer Journey**: Mapeo del recorrido del cliente
- **Campa√±as Online**: Planificaci√≥n y activaci√≥n de campa√±as
- **Estrategia de Contenidos**: Mensajes y copy persuasivo

#### üìä **Equipo de Data Science**
- **Algoritmos de Optimizaci√≥n**: Modelos para eficiencia de combustible
- **An√°lisis Predictivo**: Predicci√≥n de mantenimiento y costos
- **Machine Learning**: Sistemas de recomendaci√≥n de rutas
- **Data Visualization**: M√©tricas y dashboards anal√≠ticos

#### üîí **Equipo de Ciberseguridad**
- **Seguridad de API**: Implementaci√≥n de protocolos seguros
- **Gesti√≥n de Tokens**: Sistema JWT robusto y seguro
- **Protecci√≥n de Datos**: Encriptaci√≥n y compliance GDPR
- **Auditor√≠a de Seguridad**: An√°lisis de vulnerabilidades

#### üíª **Equipo Full-Stack** (Este Repositorio)
- **Frontend Development**: React + Redux + Vite
- **UI Design**: Dise√±o e implementaci√≥n de la interfaz
- **API Integration**: Cliente HTTP con interceptores
- **State Management**: Gesti√≥n completa del estado global
- **Responsive Design**: Interfaz adaptable y moderna

### üîó **Integraci√≥n de Equipos**
Este repositorio frontend se conecta con:
- **Backend API** (desarrollado por Full-Stack)
- **Modelos ML** (integrados desde Data Science)
- **Pol√≠ticas de Seguridad** (implementadas por Ciberseguridad)
- **Dise√±o UX/UI** (especificado por Marketing)

---

## üéØ Scripts Disponibles

```bash
# Desarrollo
npm run dev              # Inicia servidor de desarrollo

# Construcci√≥n
npm run build           # Build de producci√≥n

# Linting
npm run lint           # Ejecuta ESLint

# Preview
npm run preview        # Preview del build de producci√≥n

# Documentaci√≥n
npm run dashboard:readme:pdf  # (Requiere README_mongodb_dashboard.md y md-to-pdf-config.json)
```

---

## üåê Variables de Entorno

```bash
# .env
VITE_API_URL=http://localhost:5000  # URL del backend API
```

### üìù Configuraci√≥n del API
El cliente HTTP est√° configurado con:
- **Base URL**: Configurable via `VITE_API_URL`
- **Timeout**: 15 segundos
- **Credentials**: Incluidas autom√°ticamente
- **Interceptores**: Para auth, refresh y reintentos (cola concurrente)

### üî© Alias de imports
Se define un alias `@` a la carpeta `src/` en `vite.config.js` para imports limpios:

```js
// vite.config.js
resolve: { alias: { '@': path.resolve(__dirname, 'src') } }
```

---

## üöÄ Pr√≥ximas Caracter√≠sticas

- [ ] üì± **App m√≥vil** con React Native
- [ ] ü§ñ **IA predictiva** para mantenimiento
- [ ] üåç **Mapas interactivos** con rutas optimizadas
- [ ] üìä **Reportes avanzados** exportables
- [ ] üîî **Notificaciones push** en tiempo real
- [ ] üå± **Certificaciones ambientales** autom√°ticas

---

## üë• Contribuir

1. Fork el proyecto
2. Crea una rama feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

---

## üìù Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

---

<div align="center">

**üéì Proyecto Final - The Bridge | Desaf√≠o**

*OnTrack representa la excelencia en colaboraci√≥n multidisciplinar*

**¬øListo para optimizar tu flota?**

[üöÄ Demo Local](http://localhost:5173) | [üåâ The Bridge](https://thebridge.tech) | [üìö Documentaci√≥n](./docs)

*Desarrollado con ‚ù§Ô∏è por equipos de Marketing, Data Science, Ciberseguridad y Full-Stack*

---

### üèÜ Logros del Proyecto
- ‚úÖ **Integraci√≥n exitosa** de 4 disciplinas t√©cnicas
- ‚úÖ **Aplicaci√≥n full-stack** completamente funcional  
- ‚úÖ **Dashboard en tiempo real** con m√©tricas avanzadas
- ‚úÖ **Sistema de seguridad** robusto y escalable
- ‚úÖ **UX/UI optimizada** basada en research

</div>